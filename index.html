<!DOCTYPE html>
<html>
    <head>
        <meta charset="utf-8">
        <title>Function scope example</title>
    </head>

    <body>
        <script>
            /**
             * Summary: Determines the computer's choice in Rock, Paper, Scissors.
             * 
             * Description: Generates a random number between 1 and 3 where: 
             * { 1 = rock, 2 = paper, and 3 = scissors } and returns the result.
             * 
             * @since   1.1.1
             * 
             * @return  {string}    The choice or rock, paper, scissors, (or invalid). 
             */
            function computerPlay() {
                let choice = "";
                // Get a random number between 1 and 3 
                switch(Math.ceil(Math.random() * 3)) {
                    case 1:
                        choice = "rock";
                        break;
                    case 2: 
                        choice = "paper";
                        break;
                    case 3: 
                        choice = "scissors";
                        break;
                }
                //output(choice);
                return choice;
            }
            

            /**
             * Summary: Determines the winner of a round of Rock, Paper, Scissors.
             * 
             * Dexcription: Takes a computer generated choice and a user input 
             * choice of either rock, paper, or scissors and determines whether
             * the game was a tie, the user won, or the computer won and then
             * outputs the result as a message string. 
             * 
             * @since   1.1.1
             * 
             * @param   string  playerSelection     The player's choice (rock, 
             *                                      paper, scissors).
             * @param   string  computerSelection   The computer's choice 
             *                                      (rock, paper, scissors).
             * 
             * @return  string   result             The output containing the 
             *                                      game result.
             */
            function playRound(playerSelection, computerSelection) {
                let result = "";
                // User chooses rock.
                if (playerSelection.toLowerCase() === "rock") {
                    if (computerSelection.toLowerCase() === "rock") {
                        result = "Tie";
                    }
                    else if (computerSelection.toLowerCase() === "paper") {
                        result = "Loss";
                    }
                    else if (computerSelection.toLowerCase() === "scissors") {
                        result = "Win";
                    }
                    else {
                        result = "Invalid";
                    }
                }
                // User chooses paper.
                else if (playerSelection.toLowerCase() === "paper") {
                    if (computerSelection.toLowerCase() === "rock") {
                        result = "Win";
                    }
                    else if (computerSelection.toLowerCase() === "paper") {
                        result = "Tie";
                    }
                    else if (computerSelection.toLowerCase() === "scissors") {
                        result = "Loss";
                    }
                    else {
                        result = "Invalid";
                    }
                }
                // User chooses scissors.
                else if (playerSelection.toLowerCase() === "scissors") {
                    if (computerSelection.toLowerCase() === "rock") {
                        result = "Loss";
                    }
                    else if (computerSelection.toLowerCase() === "paper") {
                        result = "Win";
                    }
                    else if (computerSelection.toLowerCase() === "scissors") {
                        result = "Tie";
                    }
                    else {
                        result = "Invalid";
                    }
                }
                else {
                    result = "Invalid"
                }
                return result;
            }

            /**
             * Summary Plays a 5-round game of Rock, Paper, Scissors.
             * 
             * @since   1.1.1
             */
            function game() {
                for (let i = 0; i < 5; i++) {
                    playRound(playerSelection, computerSelection)
                }
            }


            /**
             * Summary: Outputs the given string to the html page in a p tag.
             * 
             * Description: Takes a string value, generates a paragraph tag,
             * then outputs the string to that tag in the HTML.
             * 
             * @param   string  value       
             * 
             * @since   1.1.1
             */
            function output(value) {
                const para = document.createElement('p');
                document.body.appendChild(para);
                para.textContent = 'Value: ' + value;
            }

            const playerSelection = 'rock';
            const computerSelection = computerPlay();
            console.log(playRound(playerSelection, computerSelection));
        </script>
    </body>
</html>
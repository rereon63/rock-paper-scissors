<!DOCTYPE html>
<html>
    <head>
        <meta charset="utf-8">
        <title>Function scope example</title>
    </head>

    <body>
        <script>
            /**
             * Summary: Determines the computer's choice in Rock, Paper, Scissors.
             * 
             * Description: Generates a random number between 1 and 3 where: 
             * { 1 = rock, 2 = paper, and 3 = scissors } and returns the result.
             * 
             * @since   1.1.1
             * 
             * @return  {string}    The choice or rock, paper, scissors, (or invalid). 
             */
            function computerPlay() {
                let choice = "";
                // Get a random number between 1 and 3 
                switch(Math.ceil(Math.random() * 3)) {
                    case 1:
                        choice = "rock";
                        break;
                    case 2: 
                        choice = "paper";
                        break;
                    case 3: 
                        choice = "scissors";
                        break;
                }
                //output(choice);
                return choice;
            }
            

            /**
             * Summary: Determines the winner of a round of Rock, Paper, Scissors.
             * 
             * Dexcription: Takes a computer generated choice and a user input 
             * choice of either rock, paper, or scissors and determines whether
             * the game was a tie, the user won, or the computer won and then
             * outputs the result as a message string. 
             * 
             * @since   1.1.1
             * 
             * @param   string  playerSelection     The player's choice (rock, 
             *                                      paper, scissors).
             * @param   string  computerSelection   The computer's choice 
             *                                      (rock, paper, scissors).
             * 
             * @return  string   result             The output containing the 
             *                                      game result.
             */
            function playRound(playerSelection, computerSelection) {
                let result = "";
                // User chooses rock.
                if (playerSelection.toLowerCase() === "rock") {
                    if (computerSelection.toLowerCase() === "rock") {
                        result = "Tied";
                    }
                    else if (computerSelection.toLowerCase() === "paper") {
                        result = "Lost";
                    }
                    else if (computerSelection.toLowerCase() === "scissors") {
                        result = "Won";
                    }
                    else {
                        result = "Invalid";
                    }
                }
                // User chooses paper.
                else if (playerSelection.toLowerCase() === "paper") {
                    if (computerSelection.toLowerCase() === "rock") {
                        result = "Won";
                    }
                    else if (computerSelection.toLowerCase() === "paper") {
                        result = "Tied";
                    }
                    else if (computerSelection.toLowerCase() === "scissors") {
                        result = "Lost";
                    }
                    else {
                        result = "Invalid";
                    }
                }
                // User chooses scissors.
                else if (playerSelection.toLowerCase() === "scissors") {
                    if (computerSelection.toLowerCase() === "rock") {
                        result = "Lost";
                    }
                    else if (computerSelection.toLowerCase() === "paper") {
                        result = "Won";
                    }
                    else if (computerSelection.toLowerCase() === "scissors") {
                        result = "Tied";
                    }
                    else {
                        result = "Invalid";
                    }
                }
                else {
                    result = "Invalid"
                }

                sayResults(result, playerSelection, computerSelection);
                return result;
            }


            /**
             * Summary: Tracks the score of an ongoing game of Rock, Paper, Scissors.
             * 
             * Description: Takes a given existing score array and the results
             * of the most recent round.  Depending on the results, add a point
             * to a section of the array.
             * 
             * @since 1.1.2
             * 
             * @param   array   score           An array of 3 values 
             *                                  (Wins, Losses, Ties).
             * @param   string  roundResult     The string value representing
             *                                  the result of a round.
             */
            function track(score, roundResult) {
                // Check result and add point where needed
                switch(roundResult) {
                    case "Won":
                        score[0]++;
                        break;
                    case "Lost":
                        score[1]++;
                        break;
                    case "Tied":
                        score[2]++;
                        break;
                }
                // Return the updated score.
                return score;
            }


            function sayResults(roundResult, playerSelection, computerSelection) {
                
                
                console.log("You " + roundResult + "! The computer chose " + computerSelection + ".");
            }


            /**
             * Summary: Plays a 5-round game of Rock, Paper, Scissors.
             * 
             * @since   1.1.1
             */
            function game() {
                // Initialize game related variables
                let game = "";
                let score = [0, 0, 0]   // Wins, Ties, Losses
                for (let i = 0; i < 5; i++) {
                    userChoice = prompt("Rock, Paper, or Scissors?");
                    compChoice = computerPlay();
                    game = playRound(userChoice, compChoice);
                    track(score, game);
                    
                }
            }


            /**
             * Summary: Outputs the given string to the html page in a p tag.
             * 
             * Description: Takes a string value, generates a paragraph tag,
             * then outputs the string to that tag in the HTML.
             * 
             * @param   string  value       
             * 
             * @since   1.1.1
             */
            function output(value) {
                const para = document.createElement('p');
                document.body.appendChild(para);
                para.textContent = 'Value: ' + value;
            }

            const playerSelection = 'rock';
            const computerSelection = computerPlay();
            console.log(playRound(playerSelection, computerSelection));
        </script>
    </body>
</html>